{% extends 'base.html' %}

{% block content %}
{% if hot_articles and not request.GET.q %}
<div class="row mb-5">
    <div class="col-12"><h2 style="font-family: 'Syncopate'; font-size: 1rem; color: var(--primary); margin-bottom: 25px;">üî• –ì–û–†–Ø–ß–ï–ï</h2></div>
    {% for hot in hot_articles %}
    <div class="col-md-4 mb-4">
        <div class="card bg-transparent border-danger h-100 news-card-hover" style="border: 1px solid rgba(255,0,60,0.3) !important; position: relative;">
            <div style="height: 160px; overflow: hidden;">
                <img src="{{ hot.image_url }}" class="w-100 h-100 object-fit-cover" alt="">
            </div>
            <div class="p-3">
                <h6 class="fw-bold">
                    <a href="{% url 'article' hot.pk %}" class="text-white text-decoration-none stretched-link">{{ hot.title }}</a>
                </h6>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endif %}

<div class="row">
    <div class="col-12"><h2 style="font-family: 'Syncopate'; font-size: 1rem; margin-bottom: 25px;">
        {% if request.GET.q %} –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ü–û –ó–ê–ü–†–û–°–£ {% else %} –ü–û–°–õ–ï–î–ù–ò–ï –ò–ù–°–ê–ô–î–´ {% endif %}
    </h2></div>
<div class="news-ticker">
    <div class="ticker-title">LIVE –ò–ù–°–ê–ô–î–´:</div>
    <marquee scrollamount="6">
        {% for article in articles|slice:":5" %}
            <span class="ticker-item">‚óè {{ article.title }}</span>
        {% endfor %}
    </marquee>
</div>

<style>
    .news-ticker { background: #111; border-top: 1px solid #222; border-bottom: 1px solid #222; display: flex; align-items: center; padding: 5px 0; font-family: 'Syncopate'; font-size: 0.6rem; }
    .ticker-title { background: var(--primary); color: white; padding: 2px 10px; margin-right: 15px; font-weight: bold; }
    .ticker-item { margin-right: 50px; color: #ccc; }
</style>
    
    {% for article in articles %}
    <div class="col-md-6 mb-4">
        <div class="card h-100 bg-transparent news-card-hover" style="border: 1px solid rgba(255,255,255,0.1) !important; position: relative; transition: 0.3s;">
            <div style="height: 200px; overflow: hidden; position: relative;">
                <img src="{{ article.image_url }}" class="w-100 h-100 object-fit-cover news-img" alt="">
                <span class="badge position-absolute top-0 end-0 m-2 bg-danger" style="z-index: 2;">{{ article.category.name }}</span>
            </div>
            <div class="card-body d-flex flex-column">
                <h5 class="text-white fw-bold">{{ article.title }}</h5>
                <p class="text-secondary small">{{ article.content|truncatewords:15 }}</p>
                
                <div class="d-flex justify-content-between align-items-center mt-auto">
                    <a href="{% url 'article' article.pk %}" class="stretched-link custom-read-more">–ß–∏—Ç–∞—Ç—å –∏–Ω—Å–∞–π–¥</a>
                    <span class="text-secondary small" style="z-index: 2;">‚ù§Ô∏è {{ article.total_likes }}</span>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<style>
    /* –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –≤—Å—é –∫–∞—Ä—Ç–æ—á–∫—É */
    .news-card-hover:hover {
        background: rgba(255, 255, 255, 0.05) !important;
        border-color: var(--primary) !important;
        box-shadow: 0 0 20px rgba(255, 0, 60, 0.2);
        cursor: pointer;
    }

    .news-img { transition: 0.5s; }
    .news-card-hover:hover .news-img { transform: scale(1.05); }

    /* –°–¢–ò–õ–¨ –°–°–´–õ–ö–ò: –ß—Ç–æ–±—ã –Ω–µ –ø—Ä–æ–ø–∞–¥–∞–ª–∞ –∏ –±—ã–ª–∞ –∫—Ä–∞—Å–Ω–æ–π */
    .custom-read-more {
        color: var(--primary) !important; 
        font-family: 'Syncopate'; 
        font-size: 0.7rem; 
        text-decoration: none;
        text-transform: uppercase;
        transition: 0.3s;
    }

    /* –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É —Å—Å—ã–ª–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —è—Ä—á–µ, –Ω–æ –Ω–µ –±–µ–ª–æ–π */
    .news-card-hover:hover .custom-read-more {
        color: #ff4d7a !important; /* –°–≤–µ—Ç–ª–æ-–∫—Ä–∞—Å–Ω—ã–π, —á—Ç–æ–±—ã –≤—ã–¥–µ–ª—è–ª—Å—è */
        letter-spacing: 1px;
    }
</style>
{% endblock %}